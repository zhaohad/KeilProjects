C51 COMPILER V9.60.0.0   MPU6500                                                           08/01/2022 13:58:02 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MPU6500
OBJECT MODULE PLACED IN .\Objects\mpu6500.obj
COMPILER INVOKED BY: d:\Keil_v5\C51\BIN\C51.EXE src\mpu6500\mpu6500.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\src) DEBUG OBJEC
                    -TEXTEND PRINT(.\Listings\mpu6500.lst) TABS(2) OBJECT(.\Objects\mpu6500.obj)

line level    source

   1          #include "mpu6500.h"
*** ERROR C231 IN LINE 9 OF .\src\stc/stc8a8k64d4.H: 'P0': redefinition
*** ERROR C231 IN LINE 10 OF .\src\stc/stc8a8k64d4.H: 'SP': redefinition
*** ERROR C231 IN LINE 11 OF .\src\stc/stc8a8k64d4.H: 'DPL': redefinition
*** ERROR C231 IN LINE 12 OF .\src\stc/stc8a8k64d4.H: 'DPH': redefinition
*** ERROR C231 IN LINE 23 OF .\src\stc/stc8a8k64d4.H: 'PCON': redefinition
*** ERROR C231 IN LINE 32 OF .\src\stc/stc8a8k64d4.H: 'TCON': redefinition
*** ERROR C231 IN LINE 33 OF .\src\stc/stc8a8k64d4.H: 'TMOD': redefinition
*** ERROR C231 IN LINE 42 OF .\src\stc/stc8a8k64d4.H: 'TL0': redefinition
*** ERROR C231 IN LINE 43 OF .\src\stc/stc8a8k64d4.H: 'TL1': redefinition
*** ERROR C231 IN LINE 44 OF .\src\stc/stc8a8k64d4.H: 'TH0': redefinition
*** ERROR C231 IN LINE 45 OF .\src\stc/stc8a8k64d4.H: 'TH1': redefinition
*** ERROR C231 IN LINE 46 OF .\src\stc/stc8a8k64d4.H: 'AUXR': redefinition
*** ERROR C231 IN LINE 62 OF .\src\stc/stc8a8k64d4.H: 'P1': redefinition
*** ERROR C231 IN LINE 69 OF .\src\stc/stc8a8k64d4.H: 'SCON': redefinition
*** ERROR C231 IN LINE 70 OF .\src\stc/stc8a8k64d4.H: 'SBUF': redefinition
*** ERROR C231 IN LINE 83 OF .\src\stc/stc8a8k64d4.H: 'P2': redefinition
*** ERROR C231 IN LINE 99 OF .\src\stc/stc8a8k64d4.H: 'IE': redefinition
*** ERROR C231 IN LINE 123 OF .\src\stc/stc8a8k64d4.H: 'P3': redefinition
*** ERROR C231 IN LINE 153 OF .\src\stc/stc8a8k64d4.H: 'IP': redefinition
*** ERROR C231 IN LINE 157 OF .\src\stc/stc8a8k64d4.H: 'PS': redefinition
*** ERROR C231 IN LINE 158 OF .\src\stc/stc8a8k64d4.H: 'PT1': redefinition
*** ERROR C231 IN LINE 159 OF .\src\stc/stc8a8k64d4.H: 'PX1': redefinition
*** ERROR C231 IN LINE 160 OF .\src\stc/stc8a8k64d4.H: 'PT0': redefinition
*** ERROR C231 IN LINE 161 OF .\src\stc/stc8a8k64d4.H: 'PX0': redefinition
*** ERROR C231 IN LINE 220 OF .\src\stc/stc8a8k64d4.H: 'PSW': redefinition
*** ERROR C231 IN LINE 281 OF .\src\stc/stc8a8k64d4.H: 'ACC': redefinition
*** ERROR C231 IN LINE 312 OF .\src\stc/stc8a8k64d4.H: 'B': redefinition
*** ERROR C231 IN LINE 341 OF .\src\stc/stc8a8k64d4.H: 'CY': redefinition
*** ERROR C231 IN LINE 342 OF .\src\stc/stc8a8k64d4.H: 'AC': redefinition
*** ERROR C231 IN LINE 343 OF .\src\stc/stc8a8k64d4.H: 'F0': redefinition
*** ERROR C231 IN LINE 344 OF .\src\stc/stc8a8k64d4.H: 'RS1': redefinition
*** ERROR C231 IN LINE 345 OF .\src\stc/stc8a8k64d4.H: 'RS0': redefinition
*** ERROR C231 IN LINE 346 OF .\src\stc/stc8a8k64d4.H: 'OV': redefinition
*** ERROR C231 IN LINE 348 OF .\src\stc/stc8a8k64d4.H: 'P': redefinition
*** ERROR C231 IN LINE 351 OF .\src\stc/stc8a8k64d4.H: 'TF1': redefinition
*** ERROR C231 IN LINE 352 OF .\src\stc/stc8a8k64d4.H: 'TR1': redefinition
*** ERROR C231 IN LINE 353 OF .\src\stc/stc8a8k64d4.H: 'TF0': redefinition
*** ERROR C231 IN LINE 354 OF .\src\stc/stc8a8k64d4.H: 'TR0': redefinition
*** ERROR C231 IN LINE 355 OF .\src\stc/stc8a8k64d4.H: 'IE1': redefinition
*** ERROR C231 IN LINE 356 OF .\src\stc/stc8a8k64d4.H: 'IT1': redefinition
*** ERROR C231 IN LINE 357 OF .\src\stc/stc8a8k64d4.H: 'IE0': redefinition
*** ERROR C231 IN LINE 358 OF .\src\stc/stc8a8k64d4.H: 'IT0': redefinition
*** ERROR C231 IN LINE 405 OF .\src\stc/stc8a8k64d4.H: 'RXD': redefinition
*** ERROR C231 IN LINE 406 OF .\src\stc/stc8a8k64d4.H: 'TXD': redefinition
*** ERROR C231 IN LINE 407 OF .\src\stc/stc8a8k64d4.H: 'INT0': redefinition
*** ERROR C231 IN LINE 408 OF .\src\stc/stc8a8k64d4.H: 'INT1': redefinition
*** ERROR C231 IN LINE 409 OF .\src\stc/stc8a8k64d4.H: 'T0': redefinition
*** ERROR C231 IN LINE 410 OF .\src\stc/stc8a8k64d4.H: 'T1': redefinition
*** ERROR C231 IN LINE 411 OF .\src\stc/stc8a8k64d4.H: 'WR': redefinition
*** ERROR C231 IN LINE 412 OF .\src\stc/stc8a8k64d4.H: 'RD': redefinition
*** ERROR C231 IN LINE 464 OF .\src\stc/stc8a8k64d4.H: 'SM0': redefinition
*** ERROR C231 IN LINE 465 OF .\src\stc/stc8a8k64d4.H: 'SM1': redefinition
*** ERROR C231 IN LINE 466 OF .\src\stc/stc8a8k64d4.H: 'SM2': redefinition
C51 COMPILER V9.60.0.0   MPU6500                                                           08/01/2022 13:58:02 PAGE 2   

*** ERROR C231 IN LINE 467 OF .\src\stc/stc8a8k64d4.H: 'REN': redefinition
*** ERROR C231 IN LINE 468 OF .\src\stc/stc8a8k64d4.H: 'TB8': redefinition
*** ERROR C231 IN LINE 469 OF .\src\stc/stc8a8k64d4.H: 'RB8': redefinition
*** ERROR C231 IN LINE 470 OF .\src\stc/stc8a8k64d4.H: 'TI': redefinition
*** ERROR C231 IN LINE 471 OF .\src\stc/stc8a8k64d4.H: 'RI': redefinition
*** ERROR C231 IN LINE 474 OF .\src\stc/stc8a8k64d4.H: 'EA': redefinition
*** ERROR C231 IN LINE 477 OF .\src\stc/stc8a8k64d4.H: 'ES': redefinition
*** ERROR C231 IN LINE 478 OF .\src\stc/stc8a8k64d4.H: 'ET1': redefinition
*** ERROR C231 IN LINE 479 OF .\src\stc/stc8a8k64d4.H: 'EX1': redefinition
*** ERROR C231 IN LINE 480 OF .\src\stc/stc8a8k64d4.H: 'ET0': redefinition
*** ERROR C231 IN LINE 481 OF .\src\stc/stc8a8k64d4.H: 'EX0': redefinition
   2          
   3          void Single_WriteI2C(u8 REG_Address,uchar REG_data) {
   4   1          I2CBus_Start();                  //起始信号
   5   1          I2CBus_Write(MPU_ADDR);   //发送设备地址+写信号
   6   1          I2CBus_Write(REG_Address);    //内部寄存器地址，
   7   1          I2CBus_Write(REG_data);       //内部寄存器数据，
   8   1          I2CBus_Stop();                   //发送停止信号
   9   1      }
  10          
  11          void InitMPU6500() {
  12   1        Single_WriteI2C(PWR_MGMT_1, 0x00);  //解除休眠状态
  13   1        Single_WriteI2C(SMPLRT_DIV, 0x07);
  14   1        Single_WriteI2C(CONFIG, 0x06);
  15   1        Single_WriteI2C(GYRO_CONFIG, 0x18);
  16   1        Single_WriteI2C(ACCEL_CONFIG, 0x01);
  17   1      }
  18          
  19          uchar Single_ReadI2C(uchar REG_Address) {
  20   1        uchar REG_data;
  21   1        I2CBus_Start();                   //起始信号
  22   1        I2CBus_Write(MPU_ADDR);    //发送设备地址+写信号
  23   1        I2CBus_Write(REG_Address);     //发送存储单元地址，从0开始  
  24   1        I2CBus_Start();                   //起始信号
  25   1        I2CBus_Write(MPU_ADDR + 1);  //发送设备地址+读信号
  26   1        REG_data = I2CBus_Read(1);       //读出寄存器数据
  27   1        I2CBus_Stop();                    //停止信号
  28   1        return REG_data;
  29   1      }
  30          
  31          int GetData(uchar REG_Address) {
  32   1        uchar H,L;
  33   1        H = Single_ReadI2C(REG_Address);
  34   1        L = Single_ReadI2C(REG_Address + 1);
  35   1        return ((H << 8) + L);   //合成数据
  36   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  64 ERROR(S)
