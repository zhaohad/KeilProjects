C51 COMPILER V9.60.7.0   DRV_UART                                                          05/07/2023 23:34:00 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE DRV_UART
OBJECT MODULE PLACED IN ..\output\drv_uart.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE Source_File\drv_mcu\src\drv_uart.c COMPACT OPTIMIZE(8,SPEED) BROWSE INCD
                    -IR(.\Source_File\app\inc;.\Source_File\drv_mcu\inc;.\Source_File\drv_periph\inc) DEBUG OBJECTEXTEND PRINT(..\output\drv_
                    -uart.lst) TABS(2) OBJECT(..\output\drv_uart.obj)

line level    source

   1          Ôªø/**
*** ERROR C100 IN LINE 1 OF Source_File\drv_mcu\src\drv_uart.c: unprintable character 0xEF skipped
*** ERROR C100 IN LINE 1 OF Source_File\drv_mcu\src\drv_uart.c: unprintable character 0xBB skipped
*** ERROR C100 IN LINE 1 OF Source_File\drv_mcu\src\drv_uart.c: unprintable character 0xBF skipped
   2            ******************************************************************************
   3            * @author  
   4            * @version 
   5            * @date    
   6            * @brief   
   7            ******************************************************************************
   8            * @attention
   9            *
  10            * 
  11            * 
  12            * 
  13            ******************************************************************************
  14            */
  15          
  16          
  17          #include "drv_uart.h"
*** ERROR C100 IN LINE 1 OF .\Source_File\drv_mcu\inc\drv_uart.h: unprintable character 0xEF skipped
*** ERROR C100 IN LINE 1 OF .\Source_File\drv_mcu\inc\drv_uart.h: unprintable character 0xBB skipped
*** ERROR C100 IN LINE 1 OF .\Source_File\drv_mcu\inc\drv_uart.h: unprintable character 0xBF skipped
*** ERROR C100 IN LINE 1 OF \hw\KeilProjects\µÁ◊”◊ ¡œ\G01-S\Demo≥Ã–Ú\demo_SI24R1\demo_SI24R1\Demo_nRF24L01_V3_0_ZeYao\De
             -mo_RF24L01_Stc89C52\Project_Rf24L01\Source_File\drv_mcu\inc\typedef.h: unprintable character 0xEF skipped
*** ERROR C100 IN LINE 1 OF \hw\KeilProjects\µÁ◊”◊ ¡œ\G01-S\Demo≥Ã–Ú\demo_SI24R1\demo_SI24R1\Demo_nRF24L01_V3_0_ZeYao\De
             -mo_RF24L01_Stc89C52\Project_Rf24L01\Source_File\drv_mcu\inc\typedef.h: unprintable character 0xBB skipped
*** ERROR C100 IN LINE 1 OF \hw\KeilProjects\µÁ◊”◊ ¡œ\G01-S\Demo≥Ã–Ú\demo_SI24R1\demo_SI24R1\Demo_nRF24L01_V3_0_ZeYao\De
             -mo_RF24L01_Stc89C52\Project_Rf24L01\Source_File\drv_mcu\inc\typedef.h: unprintable character 0xBF skipped
  18          
  19          
  20          
  21          /**
  22            * @brief :‰∏≤Âè£ÂàùÂßãÂåñ
  23            * @param :Êó†
  24            * @note  :Êó†
  25            * @retval:Êó†
  26            */
  27          void drv_uart_init( )
  28          {
  29   1        //ÂºïËÑöÈÖçÁΩÆ ÈÉ®ÂàÜ51ÂçïÁâáÊú∫‰∏çÈúÄË¶Å
  30   1        //TXÈÖçÁΩÆ‰∏∫ËæìÂá∫ RXÈÖçÁΩÆ‰∏∫ËæìÂÖ•
  31   1        UART_TX_PxM0 |= IO_OUT_PUT_PP_M0 << UART_TX_PIN_BIT;
  32   1        UART_TX_PxM1 |= IO_OUT_PUT_PP_M1 << UART_TX_PIN_BIT;
  33   1        UART_RX_PxM0 |= IO_IN_PUT_ONLY_M0 << UART_RX_PIN_BIT;
  34   1        UART_RX_PxM1 |= IO_IN_PUT_ONLY_M1 << UART_RX_PIN_BIT;
  35   1        UART_TX = 1;
  36   1        
  37   1        //‰∏≤Âè£ÈÖçÁΩÆ
  38   1        SCON &= (uint8_t)((uint8_t)( ~( UART_MODE | UART_RX )));  //Ê∏ÖSM0 SM1 REN
  39   1        SCON |= (uint8_t)( UART_8BAUDRATE_VOLATILE | UART_RX );
  40   1        
  41   1        //TIM1ÈÖçÁΩÆ
C51 COMPILER V9.60.7.0   DRV_UART                                                          05/07/2023 23:34:00 PAGE 2   

  42   1        TMOD &= (uint8_t)((uint8_t)( ~TIM1_MODE ));
  43   1        TMOD |= TIM1_MODE_2;  //8‰ΩçËá™Âä®ÈáçË£Ö
  44   1        PCON = 0x00;
  45   1        TH1 = 0xFD;       //Ê≥¢ÁâπÁéáÈªòËÆ§ÈÖçÁΩÆ‰∏∫9600
  46   1        TL1 = 0xFD;
  47   1        
  48   1        TI = 1;         //Ê∏ÖÂèëÈÄÅÊ†áÂøó           
  49   1        TR1 = 1;        //‰ΩøËÉΩÂÆöÊó∂Âô®
  50   1      }
  51          
  52          /**
  53            * @brief :‰∏≤Âè£ÂèëÈÄÅÊï∞ÊçÆ
  54            * @param :
  55            *     @TxBuffer:ÂèëÈÄÅÊï∞ÊçÆÈ¶ñÂú∞ÂùÄ
  56            *     @Length:Êï∞ÊçÆÈïøÂ∫¶
  57            * @note  :Êó†
  58            * @retval:Êó†
  59            */
  60          void drv_uart_tx_bytes( uint8_t* TxBuffer, uint8_t Length )
  61          {
  62   1        while( Length-- )
  63   1        {
  64   2          while( 0 == TI );   //Á≠âÂæÖ‰∏äÊ¨°ÂèëÈÄÅÂÆåÊàê
  65   2          TI = 0;         //Ê∏ÖÊ†áÂøó‰Ωç
  66   2          SBUF = *TxBuffer;   //ÂèëÈÄÅÊï∞ÊçÆ
  67   2          TxBuffer++;
  68   2        }
  69   1      }
  70          
  71          /**
  72            * @brief :‰∏≤Âè£Êé•Êî∂Êï∞ÊçÆ
  73            * @param :
  74            *     @RxBuffer:ÂèëÈÄÅÊï∞ÊçÆÈ¶ñÂú∞ÂùÄ
  75            * @note  :Êó†
  76            * @retval:Êé•Êî∂Âà∞ÁöÑÂ≠óËäÇ‰∏™Êï∞
  77            */
  78          uint8_t drv_uart_rx_bytes( uint8_t* RxBuffer )
  79          {
  80   1        uint8_t l_RxLength = 0;
  81   1        uint16_t l_UartRxTimOut = 0x7FFF;
  82   1        
  83   1        while( l_UartRxTimOut-- )   //Âú®Ë∂ÖÊó∂ËåÉÂõ¥ÂÜÖÊ£ÄÊµãÊï∞ÊçÆ
  84   1        {
  85   2          if( 0 != RI )       //Ê£ÄÊµãÊòØÂê¶Êé•Êî∂Âà∞Êï∞ÊçÆ
  86   2          {
  87   3            RI = 0;         //Ê∏ÖÊ†áÂøó‰Ωç    
  88   3            *RxBuffer = SBUF;   //ËØªÊï∞ÊçÆ
  89   3            RxBuffer++;
  90   3            l_RxLength++;
  91   3            l_UartRxTimOut = 0x7FFF;//ÈáçÁΩÆË∂ÖÊó∂Ê£ÄÊµã
  92   3          }
  93   2        }
  94   1        
  95   1        return l_RxLength;      //Á≠âÂæÖË∂ÖÊó∂ÔºåÊï∞ÊçÆÊé•Êî∂ÂÆåÊàê
  96   1      }
  97          

C51 COMPILATION COMPLETE.  0 WARNING(S),  9 ERROR(S)
